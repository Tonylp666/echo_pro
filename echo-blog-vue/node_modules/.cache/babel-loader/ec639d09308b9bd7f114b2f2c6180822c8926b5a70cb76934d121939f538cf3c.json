{"ast":null,"code":"import { ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  __name: 'Breadcrumb',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const breadcrumbs = ref([]);\n\n    // 获取面包屑数据\n    const getBreadcrumbs = () => {\n      const matched = route.matched.filter(item => item.meta && item.meta.title);\n\n      // 如果第一个不是Dashboard，则添加Dashboard作为首页\n      if (matched[0]?.path !== '/dashboard') {\n        matched.unshift({\n          path: '/dashboard',\n          meta: {\n            title: '首页'\n          }\n        });\n      }\n      breadcrumbs.value = matched;\n    };\n\n    // 处理链接点击\n    const handleLink = item => {\n      router.push(item.path);\n    };\n\n    // 监听路由变化\n    watch(() => route.path, () => getBreadcrumbs(), {\n      immediate: true\n    });\n    const __returned__ = {\n      route,\n      router,\n      breadcrumbs,\n      getBreadcrumbs,\n      handleLink,\n      ref,\n      watch,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","useRoute","useRouter","route","router","breadcrumbs","getBreadcrumbs","matched","filter","item","meta","title","path","unshift","value","handleLink","push","immediate"],"sources":["/Users/ls/echo_pro/echo-blog-vue/src/layout/components/Breadcrumb.vue"],"sourcesContent":["<template>\n  <el-breadcrumb separator=\"/\">\n    <el-breadcrumb-item v-for=\"(item, index) in breadcrumbs\" :key=\"index\">\n      <span v-if=\"index === breadcrumbs.length - 1\" class=\"no-redirect\">{{ item.meta.title }}</span>\n      <a v-else @click.prevent=\"handleLink(item)\">{{ item.meta.title }}</a>\n    </el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst route = useRoute()\nconst router = useRouter()\nconst breadcrumbs = ref([])\n\n// 获取面包屑数据\nconst getBreadcrumbs = () => {\n  const matched = route.matched.filter(item => item.meta && item.meta.title)\n  \n  // 如果第一个不是Dashboard，则添加Dashboard作为首页\n  if (matched[0]?.path !== '/dashboard') {\n    matched.unshift({\n      path: '/dashboard',\n      meta: { title: '首页' }\n    })\n  }\n  \n  breadcrumbs.value = matched\n}\n\n// 处理链接点击\nconst handleLink = (item) => {\n  router.push(item.path)\n}\n\n// 监听路由变化\nwatch(\n  () => route.path,\n  () => getBreadcrumbs(),\n  { immediate: true }\n)\n</script>\n\n<style lang=\"scss\" scoped>\n.el-breadcrumb {\n  font-size: 14px;\n  line-height: 50px;\n  \n  .no-redirect {\n    color: #97a8be;\n    cursor: text;\n  }\n  \n  a {\n    color: #606266;\n    cursor: pointer;\n    \n    &:hover {\n      color: #409EFF;\n    }\n  }\n}\n</style> "],"mappings":"AAUA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;AAC/B,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAW;;;;;;;IAE/C,MAAMC,KAAK,GAAGF,QAAQ,CAAC;IACvB,MAAMG,MAAM,GAAGF,SAAS,CAAC;IACzB,MAAMG,WAAW,GAAGN,GAAG,CAAC,EAAE;;IAE1B;IACA,MAAMO,cAAc,GAAGA,CAAA,KAAM;MAC3B,MAAMC,OAAO,GAAGJ,KAAK,CAACI,OAAO,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,IAAID,IAAI,CAACC,IAAI,CAACC,KAAK;;MAEzE;MACA,IAAIJ,OAAO,CAAC,CAAC,CAAC,EAAEK,IAAI,KAAK,YAAY,EAAE;QACrCL,OAAO,CAACM,OAAO,CAAC;UACdD,IAAI,EAAE,YAAY;UAClBF,IAAI,EAAE;YAAEC,KAAK,EAAE;UAAK;QACtB,CAAC;MACH;MAEAN,WAAW,CAACS,KAAK,GAAGP,OAAM;IAC5B;;IAEA;IACA,MAAMQ,UAAU,GAAIN,IAAI,IAAK;MAC3BL,MAAM,CAACY,IAAI,CAACP,IAAI,CAACG,IAAI;IACvB;;IAEA;IACAZ,KAAK,CACH,MAAMG,KAAK,CAACS,IAAI,EAChB,MAAMN,cAAc,CAAC,CAAC,EACtB;MAAEW,SAAS,EAAE;IAAK,CACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}